<!-- <div class="flex">
    <h1 class="display-2 font-bold mt-0 mb-8 flex items-center flex-auto">
        <span class="block">Billing Info</span>
    </h1>
</div> -->

<div class="form-container">
    <form (ngSubmit)="saveBillingInfo()" [formGroup]="billingInfoForm">
        <mat-dialog-content>
        
            <div class="item-container">
                <div class="item-title">
                    <h2 class="display-1 headline font-bold mt-2 mb-2 flex items-center">
                        Name On Card
                    </h2>
                </div>
                <div class="item-input flex flex-col sm:flex-row">
                    <mat-form-field class="item-input-field" style="width: 100%" appearance="outline">
                        <input cdkFocusInitial formControlName="nameOnCard" matInput/>
                    </mat-form-field>
                </div>
            </div>

            <div class="item-container">
                <div class="item-title">
                    <h2 class="display-1 headline font-bold mt-2 mb-2 flex items-center">
                        Card Info
                    </h2>
                </div>
                <div style="border: 1px #383750 solid; border-radius: 5px; padding: 15px;">
                    <!-- STRIPE CARD -->
                    <ngx-stripe-elements [stripe]="stripe" [elementsOptions]="elementsOptions">
                        <ngx-stripe-card [options]="cardOptions"/>
                    </ngx-stripe-elements>
                </div>
            </div>

            <div>
                TODO: Have button to add a card and that pops up a modal with stripe card element in it
                <br>
                TODO: Then show a list of cards the user has added on this screen
            </div>

            <!-- OLD CARD APPROACH-->
        
            <!-- <div class="item-container">
                <div class="item-title">
                    <h2 class="display-1 headline font-bold mt-2 mb-2 flex items-center">
                        Card Number
                    </h2>
                </div>
                <div class="item-input flex flex-col sm:flex-row">
                    <mat-form-field class="item-input-field" style="width: 100%" appearance="outline">
                        <input cdkFocusInitial formControlName="cardNumber" matInput maxlength="16"/>
                    </mat-form-field>
                </div>
            </div> -->

            <!-- TODO: Make these two smaller side-by-side columns-->
            <!-- <div class="flex flex-col gap-4 sm:flex-row">
                <div class="item-container-col">
                    <div class="item-title">
                        <h2 class="display-1 headline font-bold mt-2 mb-2 flex items-center">
                            Expiration Date
                        </h2>
                    </div>
                    <div class="item-input flex flex-col sm:flex-row">
                        <mat-form-field class="item-input-field" style="width: 100%" appearance="outline">
                            <input cdkFocusInitial formControlName="expirationDate" matInput/>
                        </mat-form-field>
                    </div>
                </div>
    
                <div class="item-container-col">
                    <div class="item-title">
                        <h2 class="display-1 headline font-bold mt-2 mb-2 flex items-center">
                            CVV
                        </h2>
                    </div>
                    <div class="item-input flex flex-col sm:flex-row">
                        <mat-form-field class="item-input-field" style="width: 100%" appearance="outline">
                            <input cdkFocusInitial formControlName="cvv" matInput/>
                        </mat-form-field>
                    </div>
                </div>
            </div>
             -->
            <!-- ------------------------------------------------ -->
        
        </mat-dialog-content>
    
        @if(billingInfoForm.disabled) {
            <mat-dialog-actions class="flex justify-start" style="margin-bottom: 12px; margin-right: 12px;">
                <button
                (click)="enableForm()"
                class="mr-2"
                color="primary"
                mat-flat-button
                type="button">
                    Edit Info
                </button>
            </mat-dialog-actions>
        }
        @else {
            <mat-dialog-actions class="flex justify-start" style="margin-bottom: 12px; margin-right: 12px;">
                <button
                class="mr-2"
                color="primary"
                mat-flat-button
                type="submit">
                    Save Info
                </button>
                <button mat-button type="button" (click)="revertChanges()">Cancel</button>
            </mat-dialog-actions>
        }
    </form>
</div>